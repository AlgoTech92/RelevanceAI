{
    "type": "object",
    "properties": {
        "results": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "_id": {
                        "type": "string"
                    },
                    "version": {
                        "type": "string"
                    },
                    "studio_id": {
                        "type": "string"
                    },
                    "title": {
                        "type": "string"
                    },
                    "insert_date_": {
                        "type": "string"
                    },
                    "expiry_date_": {},
                    "status": {
                        "type": "string",
                        "enum": [
                            "complete",
                            "inprogress",
                            "failed",
                            "cancelled"
                        ],
                        "description": "Status of the workflow. Used for knowing when to send an email notification."
                    },
                    "errors": {
                        "type": "array",
                        "items": {
                            "properties": {
                                "body": {
                                    "type": "string",
                                    "step_name": {
                                        "type": "string"
                                    },
                                    "raw": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    },
                    "execution_time": {
                        "type": "number"
                    },
                    "project": {
                        "type": "string"
                    },
                    "executor": {
                        "type": "object",
                        "properties": {
                            "type": {
                                "type": "string",
                                "enum": [
                                    "run_chain",
                                    "notebook",
                                    "trigger_limited",
                                    "cron",
                                    "bulk_run",
                                    "agent",
                                    "email",
                                    "sync",
                                    "custom_gpt"
                                ]
                            },
                            "api_key_id": {
                                "type": "string"
                            },
                            "workflow_id": {
                                "type": "string"
                            },
                            "document_id": {
                                "type": "string"
                            },
                            "sync_id": {
                                "type": "string"
                            },
                            "job_id": {
                                "type": "string"
                            },
                            "agent_id": {
                                "type": "string"
                            },
                            "conversation_id": {
                                "type": "string"
                            },
                            "email_message_id": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "type"
                        ],
                        "additionalProperties": true
                    },
                    "credits_used": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "credits": {
                                    "type": "number"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "num_units": {
                                    "type": "number"
                                },
                                "multiplier": {
                                    "type": [
                                        "number",
                                        "null"
                                    ]
                                },
                                "tool_id": {
                                    "type": "string"
                                },
                                "tool_name": {
                                    "type": "string"
                                },
                                "tool_run_id": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "credits",
                                "name"
                            ],
                            "additionalProperties": false
                        }
                    },
                    "max_job_duration": {
                        "type": "string",
                        "enum": [
                            "hours",
                            "minutes",
                            "synchronous_seconds",
                            "background_seconds"
                        ],
                        "description": "Switching this to hours tells our runner engine to run the job in a way suited for long runs."
                    },
                    "output_preview": {
                        "type": "object"
                    },
                    "input_params": {
                        "type": "object"
                    },
                    "cost": {
                        "type": "number"
                    },
                    "internal_job_id": {
                        "type": "string",
                        "private": true
                    },
                    "internal_log_info": {
                        "type": "object",
                        "private": true
                    }
                },
                "additionalProperties": false,
                "required": []
            }
        },
        "studios": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "version": {
                        "type": "string"
                    },
                    "project": {
                        "type": "string"
                    },
                    "_id": {
                        "type": "string"
                    },
                    "studio_id": {
                        "type": "string"
                    },
                    "public": {
                        "type": "boolean",
                        "default": false,
                        "description": "Anyone can view or clone this tool"
                    },
                    "in_marketplace": {
                        "type": "boolean",
                        "default": false,
                        "description": "This tool is listed on the tool marketplace"
                    },
                    "insert_date_": {
                        "type": "string"
                    },
                    "transformations": {
                        "type": "object",
                        "properties": {
                            "steps": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "transformation": {
                                            "type": "string"
                                        },
                                        "params": {
                                            "type": "object"
                                        },
                                        "saved_params": {
                                            "type": "object"
                                        },
                                        "output": {
                                            "type": "object"
                                        },
                                        "output_schema": {
                                            "type": "object",
                                            "description": "A jsonschema superset object to provide metadata for tool output fields.",
                                            "properties": {
                                                "metadata": {
                                                    "type": "object",
                                                    "properties": {
                                                        "field_order": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "description": "An array of output keys in the order that they should be displayed in the tool builder. Used in the frontend to guarantee tab order."
                                                        }
                                                    }
                                                },
                                                "properties": {
                                                    "type": "object",
                                                    "additionalProperties": {
                                                        "type": "object",
                                                        "properties": {
                                                            "metadata": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "content_type": {
                                                                        "type": "string",
                                                                        "enum": [
                                                                            "external_field"
                                                                        ]
                                                                    },
                                                                    "external_name": {
                                                                        "type": "string",
                                                                        "description": "Field name in external data source (e.g. 'agent_id' in agent conversation metadata)"
                                                                    },
                                                                    "render_mode": {
                                                                        "type": "string",
                                                                        "enum": [
                                                                            "auto",
                                                                            "raw",
                                                                            "table",
                                                                            "json",
                                                                            "image",
                                                                            "tag-list",
                                                                            "cards",
                                                                            "html"
                                                                        ]
                                                                    }
                                                                },
                                                                "additionalProperties": false
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "default_output_values": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "original_key": {
                                                        "type": "string"
                                                    },
                                                    "updated_key": {
                                                        "type": "string"
                                                    },
                                                    "value": {}
                                                },
                                                "required": [
                                                    "original_key",
                                                    "value"
                                                ],
                                                "additionalProperties": false
                                            }
                                        },
                                        "continue_on_error": {
                                            "type": "boolean"
                                        },
                                        "use_fallback_on_skip": {
                                            "type": "boolean"
                                        },
                                        "foreach": {
                                            "oneOf": [
                                                {
                                                    "type": "string"
                                                },
                                                {
                                                    "type": "array"
                                                }
                                            ]
                                        },
                                        "if": {
                                            "oneOf": [
                                                {
                                                    "type": "string"
                                                },
                                                {
                                                    "type": "boolean"
                                                },
                                                {
                                                    "type": "null"
                                                }
                                            ]
                                        },
                                        "display_name": {
                                            "type": "string"
                                        }
                                    },
                                    "additionalProperties": false,
                                    "required": [
                                        "name",
                                        "transformation",
                                        "params"
                                    ]
                                }
                            },
                            "output": {
                                "oneOf": [
                                    {
                                        "type": "object",
                                        "additionalProperties": {
                                            "type": "string"
                                        }
                                    },
                                    {
                                        "type": "null"
                                    }
                                ]
                            }
                        },
                        "required": [
                            "steps"
                        ],
                        "additionalProperties": false
                    },
                    "template": {
                        "type": "object",
                        "properties": {
                            "transformations": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "object",
                                    "properties": {
                                        "properties": {
                                            "type": "object",
                                            "properties": {
                                                "params": {
                                                    "type": "object"
                                                },
                                                "workflow_id": {
                                                    "type": "string"
                                                },
                                                "host_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "batch",
                                                        "lambda",
                                                        "instant-workflows",
                                                        "none"
                                                    ],
                                                    "private": true,
                                                    "default": "batch"
                                                },
                                                "dataset_id": {
                                                    "type": "string"
                                                },
                                                "version": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "params",
                                                "workflow_id"
                                            ],
                                            "additionalProperties": false
                                        },
                                        "depends_on": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "repeat": {
                                            "type": "string",
                                            "description": "This should evaluate to a number. For example, it would be ${{ params.cluster_job_count }} or ${{ params.cluster_sizes.length }}. it will run a duplicate version of the workflow with a variable ${{ repeat_index }} that marks what index it belongs to."
                                        },
                                        "repeat_index": {
                                            "type": "number",
                                            "private": true
                                        },
                                        "if": {
                                            "type": "string"
                                        },
                                        "output_key": {
                                            "type": "string",
                                            "description": "If this step outputs to status, its output will be accessible at output[output_key] in the parent job's status."
                                        },
                                        "passthrough_email": {
                                            "type": "boolean",
                                            "description": "whether the email config of the step should be applied to the parent"
                                        }
                                    },
                                    "required": [
                                        "properties"
                                    ],
                                    "additionalProperties": false
                                }
                            }
                        },
                        "required": [
                            "transformations"
                        ],
                        "additionalProperties": false,
                        "description": "Templates support simple expressions on 'if' and 'params' fields. Supply an expression in the format: \n\n${{params.my_param + params.my_param2 <= 5 }}\n\nOperators supported: [\"!=\",\"==\",\"+\",\"-\",\"&&\",\"||\",\"false\",\"true\"]\nEnsure that there is a space between each expression item or it will not evaluate correctly."
                    },
                    "update_date_": {
                        "type": "string"
                    },
                    "is_hidden": {
                        "type": "boolean",
                        "default": false
                    },
                    "tags": {
                        "type": "object",
                        "properties": {
                            "type": {
                                "type": "string",
                                "enum": [
                                    "transformation"
                                ]
                            },
                            "categories": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "boolean",
                                    "enum": [
                                        true
                                    ]
                                }
                            },
                            "integration_source": {
                                "type": "string",
                                "description": "The source of the integration. For example, 'Knowledge: Linear', which imports data from Linear, this would be 'linear'."
                            }
                        }
                    },
                    "publicly_triggerable": {
                        "type": "boolean",
                        "default": false,
                        "description": "Anyone can run this tool"
                    },
                    "share_styles": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "selected_format": {
                                "type": "string",
                                "enum": [
                                    "shareable-link",
                                    "embed",
                                    "template"
                                ],
                                "default": "shareable-link"
                            },
                            "primary_color": {
                                "type": "string",
                                "default": "#685FFF"
                            },
                            "hide_guidance_tip": {
                                "type": "boolean",
                                "default": false
                            },
                            "guidance_tip_text": {
                                "type": "string",
                                "default": "\ud83d\udc46 Fill in the options above to get started..."
                            },
                            "cta_text": {
                                "type": "string",
                                "default": "Run tool"
                            },
                            "cta_icon": {
                                "type": "string",
                                "default": "pd/play"
                            },
                            "hide_logo": {
                                "type": "boolean",
                                "default": false
                            }
                        }
                    },
                    "machine_user_id": {
                        "type": "string"
                    },
                    "creator_user_id": {
                        "type": "string"
                    },
                    "creator_first_name": {
                        "type": "string"
                    },
                    "creator_last_name": {
                        "type": "string"
                    },
                    "creator_display_picture": {
                        "type": "string"
                    },
                    "cover_image": {
                        "type": "string"
                    },
                    "emoji": {
                        "type": "string"
                    },
                    "params_schema": {
                        "type": "object",
                        "description": "A jsonschema superset object that users parameters will be validated against upon execution.",
                        "properties": {
                            "metadata": {
                                "type": "object",
                                "properties": {
                                    "field_order": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "properties": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "object",
                                    "properties": {
                                        "metadata": {
                                            "type": "object",
                                            "properties": {
                                                "content_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "json",
                                                        "json_list",
                                                        "long_text",
                                                        "short_text",
                                                        "file_url",
                                                        "file_urls",
                                                        "llm_prompt",
                                                        "speech",
                                                        "code",
                                                        "dataset_id",
                                                        "knowledge_set",
                                                        "markdown",
                                                        "chain_id",
                                                        "chain_params",
                                                        "file_to_text",
                                                        "file_to_text_llm_friendly",
                                                        "memory_optimizer",
                                                        "memory",
                                                        "table",
                                                        "agent_id",
                                                        "api_key",
                                                        "key_value_input",
                                                        "knowledge_editor",
                                                        "oauth_account",
                                                        "datetime",
                                                        "api_selector",
                                                        "llm_model_selector",
                                                        "colour_picker",
                                                        "conditional",
                                                        "external_field",
                                                        "tool_approval",
                                                        "componentized_json_array"
                                                    ]
                                                },
                                                "allow_one_of_variable_mode": {
                                                    "type": "boolean"
                                                },
                                                "possible_options_from": {
                                                    "type": "object",
                                                    "additionalProperties": false,
                                                    "properties": {
                                                        "type": {
                                                            "type": "string",
                                                            "enum": [
                                                                "object_keys"
                                                            ]
                                                        },
                                                        "source": {
                                                            "type": "object",
                                                            "additionalProperties": false,
                                                            "properties": {
                                                                "variable": {
                                                                    "type": "string"
                                                                }
                                                            }
                                                        }
                                                    }
                                                },
                                                "default_to_variable_selector": {
                                                    "type": "boolean"
                                                },
                                                "api_selector_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "finetuning_model_select",
                                                        "elevenlabs_voice_selector",
                                                        "elevenlabs_model_selector",
                                                        "heygen_voice_selector",
                                                        "heygen_avatar_selector",
                                                        "llm_model_selector",
                                                        "blandai_voice_selector",
                                                        "d_id_voice_selector",
                                                        "d_id_avatar_selector",
                                                        "vapi_custom_phone_number_selector",
                                                        "vapi_custom_assistant_selector",
                                                        "webflow_collections"
                                                    ]
                                                },
                                                "api_selector_placeholder": {
                                                    "type": "string",
                                                    "default": "Select Option..."
                                                },
                                                "variable_search_field": {
                                                    "type": "string"
                                                },
                                                "accepted_file_types": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "hidden": {
                                                    "type": "boolean",
                                                    "default": false
                                                },
                                                "relevance_only": {
                                                    "type": "boolean",
                                                    "default": false
                                                },
                                                "minimum_plan": {
                                                    "type": "string",
                                                    "enum": [
                                                        "free",
                                                        "basic",
                                                        "starter",
                                                        "team",
                                                        "business",
                                                        "enterprise",
                                                        "custom"
                                                    ]
                                                },
                                                "advanced": {
                                                    "type": "boolean",
                                                    "default": false
                                                },
                                                "placeholder": {},
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "icon_url": {
                                                    "type": "string"
                                                },
                                                "require_toggle": {
                                                    "type": "boolean"
                                                },
                                                "dont_substitute": {
                                                    "type": "boolean",
                                                    "default": false
                                                },
                                                "min": {
                                                    "type": "number",
                                                    "hidden": true
                                                },
                                                "max": {
                                                    "type": "number",
                                                    "hidden": true
                                                },
                                                "value_suggestion_chain": {
                                                    "type": "object",
                                                    "properties": {
                                                        "url": {
                                                            "type": "string"
                                                        },
                                                        "project_id": {
                                                            "type": "string"
                                                        },
                                                        "output_key": {
                                                            "type": "string",
                                                            "default": "value"
                                                        }
                                                    },
                                                    "required": [
                                                        "url",
                                                        "project_id"
                                                    ]
                                                },
                                                "enum": {
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "description": {
                                                                "type": "string"
                                                            },
                                                            "label": {
                                                                "type": "string"
                                                            },
                                                            "credits_per_token": {
                                                                "type": "number"
                                                            },
                                                            "value": {
                                                                "type": "string"
                                                            },
                                                            "group_name": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "required": [
                                                            "description",
                                                            "value"
                                                        ],
                                                        "additionalProperties": false
                                                    },
                                                    "type": "array"
                                                },
                                                "bulk_run_input_source": {
                                                    "type": "string",
                                                    "enum": [
                                                        "",
                                                        "$DOCUMENT",
                                                        "$FIELD_PARAM_MAPPING"
                                                    ]
                                                },
                                                "agent_input_source": {
                                                    "type": "string",
                                                    "enum": [
                                                        "conversation_id",
                                                        "agent_id"
                                                    ]
                                                },
                                                "headers": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "rows": {
                                                    "type": "number"
                                                },
                                                "can_add_or_remove_columns": {
                                                    "type": "boolean"
                                                },
                                                "placeholders": {
                                                    "type": "object",
                                                    "patternProperties": {
                                                        ".*": {
                                                            "type": "string"
                                                        }
                                                    }
                                                },
                                                "language": {
                                                    "type": "string",
                                                    "enum": [
                                                        "python",
                                                        "javascript",
                                                        "html"
                                                    ]
                                                },
                                                "key_value_input_opts": {
                                                    "type": "object",
                                                    "description": "Props to pass to the KeyValueInput component.",
                                                    "properties": {
                                                        "header": {
                                                            "type": "object",
                                                            "description": "Set headers to display above the key and/or value columns.",
                                                            "properties": {
                                                                "hide": {
                                                                    "type": "boolean",
                                                                    "description": "Whether to hide all headers."
                                                                },
                                                                "key": {
                                                                    "type": "string",
                                                                    "description": "The header displayed above the key column."
                                                                },
                                                                "value": {
                                                                    "type": "string",
                                                                    "description": "The header displayed above the value column."
                                                                }
                                                            }
                                                        },
                                                        "placeholder": {
                                                            "type": "object",
                                                            "description": "Set placeholder values to display in the key and/or value columns.",
                                                            "properties": {
                                                                "hide": {
                                                                    "type": "boolean",
                                                                    "description": "Whether to hide all placeholders."
                                                                },
                                                                "key": {
                                                                    "type": "string",
                                                                    "description": "The placeholder to display in each cell of the key column."
                                                                },
                                                                "value": {
                                                                    "type": "string",
                                                                    "description": "The placeholder to display in each cell of the value column."
                                                                }
                                                            }
                                                        },
                                                        "addButtonText": {
                                                            "type": "string",
                                                            "description": "The text displayed in the 'Add' button that inserts a new pair."
                                                        }
                                                    }
                                                },
                                                "knowledge_set_field_name": {
                                                    "type": "string",
                                                    "description": "[KnowledgeEditor] The name of the field in the transformation's param schema containing the knowledge set ID."
                                                },
                                                "filters": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "strict": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "must",
                                                                    "should",
                                                                    "must_or"
                                                                ]
                                                            },
                                                            "condition": {
                                                                "type": "string"
                                                            },
                                                            "case_insensitive": {
                                                                "type": "boolean"
                                                            },
                                                            "field": {
                                                                "type": "string"
                                                            },
                                                            "filter_type": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "text_match",
                                                                    "word_match",
                                                                    "term",
                                                                    "terms",
                                                                    "text",
                                                                    "texts",
                                                                    "match",
                                                                    "contains",
                                                                    "substring",
                                                                    "class",
                                                                    "category",
                                                                    "exact_match",
                                                                    "classes",
                                                                    "categories",
                                                                    "exists",
                                                                    "traditional",
                                                                    "fuzzy",
                                                                    "regexp",
                                                                    "ids",
                                                                    "date",
                                                                    "numeric",
                                                                    "search",
                                                                    "or",
                                                                    "word_count",
                                                                    "character_count",
                                                                    "dedupe_by_value",
                                                                    "match_array",
                                                                    "random",
                                                                    "and",
                                                                    "size"
                                                                ]
                                                            },
                                                            "condition_value": {},
                                                            "fuzzy": {
                                                                "type": "number"
                                                            },
                                                            "join": {
                                                                "type": "boolean"
                                                            }
                                                        }
                                                    },
                                                    "description": "General filters for the content_type"
                                                },
                                                "oauth_permissions": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "provider": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "google",
                                                                    "microsoft",
                                                                    "salesforce",
                                                                    "slack",
                                                                    "zendesk",
                                                                    "hubspot",
                                                                    "linear",
                                                                    "outreach",
                                                                    "zoom",
                                                                    "unipile_linkedin",
                                                                    "unipile_whatsapp",
                                                                    "zoho_crm"
                                                                ]
                                                            },
                                                            "types": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "email-read-write",
                                                                        "calendar-read-write",
                                                                        "microsoft-teams",
                                                                        "meeting-read-write",
                                                                        "salesforce-api",
                                                                        "slack-channel-post",
                                                                        "slack-channel-post-read",
                                                                        "zendesk-create-ticket",
                                                                        "hubspot-connect-app",
                                                                        "linear-ticket-create",
                                                                        "unipile-linkedin",
                                                                        "unipile-whatsapp",
                                                                        "outreach-api",
                                                                        "zoom-api-v1",
                                                                        "zoho-crm"
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        "required": [
                                                            "provider",
                                                            "types"
                                                        ],
                                                        "additionalProperties": false
                                                    },
                                                    "description": "(Optional) OAuth permissions required for a step. Only applicable for content_type `oauth_token`"
                                                },
                                                "is_fixed_param": {
                                                    "type": "boolean"
                                                },
                                                "is_history_excluded": {
                                                    "type": "boolean"
                                                },
                                                "auto_stringify": {
                                                    "type": "boolean"
                                                },
                                                "external_name": {
                                                    "type": "string",
                                                    "description": "Field name in external data source (e.g. 'agent_id' in agent conversation metadata)"
                                                },
                                                "oauth_account_provider": {
                                                    "type": "string",
                                                    "description": "Filters the OAuth account selector based on the selected provider",
                                                    "enum": [
                                                        "google",
                                                        "microsoft",
                                                        "salesforce",
                                                        "slack",
                                                        "zendesk",
                                                        "hubspot",
                                                        "linear",
                                                        "outreach",
                                                        "zoom",
                                                        "unipile_linkedin",
                                                        "unipile_whatsapp",
                                                        "zoho_crm"
                                                    ]
                                                },
                                                "oauth_account_permission_type": {
                                                    "type": "string",
                                                    "description": "Filters the OAuth account selector based on the selected permission type",
                                                    "enum": [
                                                        "email-read-write",
                                                        "calendar-read-write",
                                                        "microsoft-teams",
                                                        "meeting-read-write",
                                                        "salesforce-api",
                                                        "slack-channel-post",
                                                        "slack-channel-post-read",
                                                        "zendesk-create-ticket",
                                                        "hubspot-connect-app",
                                                        "linear-ticket-create",
                                                        "unipile-linkedin",
                                                        "unipile-whatsapp",
                                                        "outreach-api",
                                                        "zoom-api-v1",
                                                        "zoho-crm"
                                                    ]
                                                },
                                                "scratchpad": {
                                                    "type": "object",
                                                    "properties": {
                                                        "type": {
                                                            "type": "string",
                                                            "enum": [
                                                                "dynamic",
                                                                "static"
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "type"
                                                    ],
                                                    "additionalProperties": false
                                                }
                                            },
                                            "additionalProperties": false
                                        },
                                        "order": {
                                            "type": "number"
                                        },
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "output_schema": {
                        "type": "object",
                        "description": "A jsonschema superset object to provide metadata for tool output fields.",
                        "properties": {
                            "metadata": {
                                "type": "object",
                                "properties": {
                                    "field_order": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "description": "An array of output keys in the order that they should be displayed in the tool builder. Used in the frontend to guarantee tab order."
                                    }
                                }
                            },
                            "properties": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "object",
                                    "properties": {
                                        "metadata": {
                                            "type": "object",
                                            "properties": {
                                                "content_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "external_field"
                                                    ]
                                                },
                                                "external_name": {
                                                    "type": "string",
                                                    "description": "Field name in external data source (e.g. 'agent_id' in agent conversation metadata)"
                                                },
                                                "render_mode": {
                                                    "type": "string",
                                                    "enum": [
                                                        "auto",
                                                        "raw",
                                                        "table",
                                                        "json",
                                                        "image",
                                                        "tag-list",
                                                        "cards",
                                                        "html"
                                                    ]
                                                }
                                            },
                                            "additionalProperties": false
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "predicted_output": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "title": {
                                    "type": "string"
                                },
                                "slug": {
                                    "type": "string"
                                },
                                "type": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "schedule": {
                        "type": "object",
                        "properties": {
                            "frequency": {
                                "type": "string",
                                "enum": [
                                    "hourly",
                                    "daily",
                                    "every-2-minutes"
                                ]
                            }
                        }
                    },
                    "state": {
                        "type": "object",
                        "description": "Override the starting state of the studio",
                        "properties": {
                            "params": {
                                "type": "object"
                            },
                            "steps": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "object",
                                    "properties": {
                                        "output": {
                                            "type": "object"
                                        },
                                        "executionTime": {
                                            "type": "number"
                                        },
                                        "results": {
                                            "type": "array",
                                            "description": "Only used if the corresponding step has a `foreach` configured"
                                        },
                                        "skipped": {
                                            "type": "boolean",
                                            "description": "Will be true if the step was skipped, and not run"
                                        },
                                        "skippedItems": {
                                            "type": "array",
                                            "items": {}
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "title": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "prompt_description": {
                        "type": "string"
                    },
                    "state_mapping": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        },
                        "description": "Mapping from alias -> real variable path"
                    },
                    "max_job_duration": {
                        "type": "string",
                        "enum": [
                            "hours",
                            "minutes",
                            "synchronous_seconds",
                            "background_seconds"
                        ],
                        "description": "Switching this to hours tells our runner engine to run the job in a way suited for long runs."
                    },
                    "metadata": {
                        "type": "object",
                        "properties": {
                            "source_studio_id": {
                                "type": "string"
                            },
                            "source_region": {
                                "type": "string"
                            },
                            "source_project": {
                                "type": "string"
                            },
                            "clone_count": {
                                "type": "number"
                            },
                            "last_run_date": {}
                        }
                    },
                    "metrics": {
                        "type": "object",
                        "properties": {
                            "views": {
                                "type": "number"
                            },
                            "executions": {
                                "type": "number"
                            }
                        }
                    },
                    "share_id": {
                        "type": "string"
                    }
                },
                "definitions": {},
                "required": [
                    "studio_id"
                ]
            }
        },
        "agentDetails": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "_id": {
                        "type": "string"
                    },
                    "agent_id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "prompt_description": {
                        "type": "string"
                    },
                    "user_instructions": {
                        "type": "string",
                        "description": "Used to provide instructions on how to use or set up the agent."
                    },
                    "template": {
                        "description": "If set, the agents config will be completely replaced with the templates config.",
                        "type": "object",
                        "properties": {
                            "agent_id": {
                                "type": "string"
                            },
                            "region": {
                                "type": "string",
                                "enum": [
                                    "1e3042",
                                    "f1db6c",
                                    "d7b62b",
                                    "bcbe5a",
                                    ""
                                ]
                            },
                            "project": {
                                "type": "string"
                            }
                        },
                        "additionalProperties": false,
                        "required": [
                            "agent_id"
                        ]
                    },
                    "origin": {
                        "description": "If set, records where the agent was cloned from.",
                        "type": "object",
                        "properties": {
                            "root_agent_id": {
                                "type": "string"
                            },
                            "region": {
                                "type": "string",
                                "enum": [
                                    "1e3042",
                                    "f1db6c",
                                    "d7b62b",
                                    "bcbe5a"
                                ]
                            },
                            "project": {
                                "type": "string"
                            }
                        },
                        "additionalProperties": false,
                        "required": [
                            "root_agent_id"
                        ]
                    },
                    "emoji": {
                        "type": "string"
                    },
                    "views": {
                        "type": "number"
                    },
                    "max_job_duration": {
                        "type": "string",
                        "enum": [
                            "hours",
                            "minutes",
                            "synchronous_seconds",
                            "background_seconds"
                        ],
                        "description": "Switching this to hours tells our runner engine to run the job in a way suited for long runs."
                    },
                    "title_prompt": {
                        "type": "string"
                    },
                    "system_prompt": {
                        "type": "string"
                    },
                    "suggest_replies": {
                        "type": "boolean",
                        "default": false,
                        "description": "If true, suggested replies will appear for each agent message in the front-end."
                    },
                    "suggest_replies_prompt": {
                        "type": "string",
                        "description": "The prompt to inject into the LLM step in the tool used to generate suggested replies."
                    },
                    "is_scheduled_triggers_enabled": {
                        "type": "boolean",
                        "default": false,
                        "description": "If true, this agent can plan and schedule future actions"
                    },
                    "model": {
                        "type": "string",
                        "default": "openai-gpt-4o-mini"
                    },
                    "autonomy_limit": {
                        "type": "number",
                        "minimum": 1,
                        "maximum": 10,
                        "default": 10,
                        "description": "Maximum number of actions an agent can autonomously take before the user needs to confirm again."
                    },
                    "temperature": {
                        "type": "number",
                        "description": "Temperature of the selected model. Typically, higher temperature means more random output.",
                        "default": 0
                    },
                    "knowledge": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "knowledge_set": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "knowledge_set"
                            ],
                            "additionalProperties": false
                        }
                    },
                    "actions": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "chain_id": {
                                    "type": "string"
                                },
                                "agent_id": {
                                    "type": "string"
                                },
                                "params_schema": {
                                    "type": "object",
                                    "description": "A jsonschema superset object that users parameters will be validated against upon execution.",
                                    "properties": {
                                        "metadata": {
                                            "type": "object",
                                            "properties": {
                                                "field_order": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "properties": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "object",
                                                "properties": {
                                                    "metadata": {
                                                        "type": "object",
                                                        "properties": {
                                                            "content_type": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "json",
                                                                    "json_list",
                                                                    "long_text",
                                                                    "short_text",
                                                                    "file_url",
                                                                    "file_urls",
                                                                    "llm_prompt",
                                                                    "speech",
                                                                    "code",
                                                                    "dataset_id",
                                                                    "knowledge_set",
                                                                    "markdown",
                                                                    "chain_id",
                                                                    "chain_params",
                                                                    "file_to_text",
                                                                    "file_to_text_llm_friendly",
                                                                    "memory_optimizer",
                                                                    "memory",
                                                                    "table",
                                                                    "agent_id",
                                                                    "api_key",
                                                                    "key_value_input",
                                                                    "knowledge_editor",
                                                                    "oauth_account",
                                                                    "datetime",
                                                                    "api_selector",
                                                                    "llm_model_selector",
                                                                    "colour_picker",
                                                                    "conditional",
                                                                    "external_field",
                                                                    "tool_approval",
                                                                    "componentized_json_array"
                                                                ]
                                                            },
                                                            "allow_one_of_variable_mode": {
                                                                "type": "boolean"
                                                            },
                                                            "possible_options_from": {
                                                                "type": "object",
                                                                "additionalProperties": false,
                                                                "properties": {
                                                                    "type": {
                                                                        "type": "string",
                                                                        "enum": [
                                                                            "object_keys"
                                                                        ]
                                                                    },
                                                                    "source": {
                                                                        "type": "object",
                                                                        "additionalProperties": false,
                                                                        "properties": {
                                                                            "variable": {
                                                                                "type": "string"
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "default_to_variable_selector": {
                                                                "type": "boolean"
                                                            },
                                                            "api_selector_type": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "finetuning_model_select",
                                                                    "elevenlabs_voice_selector",
                                                                    "elevenlabs_model_selector",
                                                                    "heygen_voice_selector",
                                                                    "heygen_avatar_selector",
                                                                    "llm_model_selector",
                                                                    "blandai_voice_selector",
                                                                    "d_id_voice_selector",
                                                                    "d_id_avatar_selector",
                                                                    "vapi_custom_phone_number_selector",
                                                                    "vapi_custom_assistant_selector",
                                                                    "webflow_collections"
                                                                ]
                                                            },
                                                            "api_selector_placeholder": {
                                                                "type": "string",
                                                                "default": "Select Option..."
                                                            },
                                                            "variable_search_field": {
                                                                "type": "string"
                                                            },
                                                            "accepted_file_types": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "hidden": {
                                                                "type": "boolean",
                                                                "default": false
                                                            },
                                                            "relevance_only": {
                                                                "type": "boolean",
                                                                "default": false
                                                            },
                                                            "minimum_plan": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "free",
                                                                    "basic",
                                                                    "starter",
                                                                    "team",
                                                                    "business",
                                                                    "enterprise",
                                                                    "custom"
                                                                ]
                                                            },
                                                            "advanced": {
                                                                "type": "boolean",
                                                                "default": false
                                                            },
                                                            "placeholder": {},
                                                            "title": {
                                                                "type": "string"
                                                            },
                                                            "description": {
                                                                "type": "string"
                                                            },
                                                            "icon_url": {
                                                                "type": "string"
                                                            },
                                                            "require_toggle": {
                                                                "type": "boolean"
                                                            },
                                                            "dont_substitute": {
                                                                "type": "boolean",
                                                                "default": false
                                                            },
                                                            "min": {
                                                                "type": "number",
                                                                "hidden": true
                                                            },
                                                            "max": {
                                                                "type": "number",
                                                                "hidden": true
                                                            },
                                                            "value_suggestion_chain": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "url": {
                                                                        "type": "string"
                                                                    },
                                                                    "project_id": {
                                                                        "type": "string"
                                                                    },
                                                                    "output_key": {
                                                                        "type": "string",
                                                                        "default": "value"
                                                                    }
                                                                },
                                                                "required": [
                                                                    "url",
                                                                    "project_id"
                                                                ]
                                                            },
                                                            "enum": {
                                                                "items": {
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "description": {
                                                                            "type": "string"
                                                                        },
                                                                        "label": {
                                                                            "type": "string"
                                                                        },
                                                                        "credits_per_token": {
                                                                            "type": "number"
                                                                        },
                                                                        "value": {
                                                                            "type": "string"
                                                                        },
                                                                        "group_name": {
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "required": [
                                                                        "description",
                                                                        "value"
                                                                    ],
                                                                    "additionalProperties": false
                                                                },
                                                                "type": "array"
                                                            },
                                                            "bulk_run_input_source": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "",
                                                                    "$DOCUMENT",
                                                                    "$FIELD_PARAM_MAPPING"
                                                                ]
                                                            },
                                                            "agent_input_source": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "conversation_id",
                                                                    "agent_id"
                                                                ]
                                                            },
                                                            "headers": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "rows": {
                                                                "type": "number"
                                                            },
                                                            "can_add_or_remove_columns": {
                                                                "type": "boolean"
                                                            },
                                                            "placeholders": {
                                                                "type": "object",
                                                                "patternProperties": {
                                                                    ".*": {
                                                                        "type": "string"
                                                                    }
                                                                }
                                                            },
                                                            "language": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "python",
                                                                    "javascript",
                                                                    "html"
                                                                ]
                                                            },
                                                            "key_value_input_opts": {
                                                                "type": "object",
                                                                "description": "Props to pass to the KeyValueInput component.",
                                                                "properties": {
                                                                    "header": {
                                                                        "type": "object",
                                                                        "description": "Set headers to display above the key and/or value columns.",
                                                                        "properties": {
                                                                            "hide": {
                                                                                "type": "boolean",
                                                                                "description": "Whether to hide all headers."
                                                                            },
                                                                            "key": {
                                                                                "type": "string",
                                                                                "description": "The header displayed above the key column."
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "The header displayed above the value column."
                                                                            }
                                                                        }
                                                                    },
                                                                    "placeholder": {
                                                                        "type": "object",
                                                                        "description": "Set placeholder values to display in the key and/or value columns.",
                                                                        "properties": {
                                                                            "hide": {
                                                                                "type": "boolean",
                                                                                "description": "Whether to hide all placeholders."
                                                                            },
                                                                            "key": {
                                                                                "type": "string",
                                                                                "description": "The placeholder to display in each cell of the key column."
                                                                            },
                                                                            "value": {
                                                                                "type": "string",
                                                                                "description": "The placeholder to display in each cell of the value column."
                                                                            }
                                                                        }
                                                                    },
                                                                    "addButtonText": {
                                                                        "type": "string",
                                                                        "description": "The text displayed in the 'Add' button that inserts a new pair."
                                                                    }
                                                                }
                                                            },
                                                            "knowledge_set_field_name": {
                                                                "type": "string",
                                                                "description": "[KnowledgeEditor] The name of the field in the transformation's param schema containing the knowledge set ID."
                                                            },
                                                            "filters": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "strict": {
                                                                            "type": "string",
                                                                            "enum": [
                                                                                "must",
                                                                                "should",
                                                                                "must_or"
                                                                            ]
                                                                        },
                                                                        "condition": {
                                                                            "type": "string"
                                                                        },
                                                                        "case_insensitive": {
                                                                            "type": "boolean"
                                                                        },
                                                                        "field": {
                                                                            "type": "string"
                                                                        },
                                                                        "filter_type": {
                                                                            "type": "string",
                                                                            "enum": [
                                                                                "text_match",
                                                                                "word_match",
                                                                                "term",
                                                                                "terms",
                                                                                "text",
                                                                                "texts",
                                                                                "match",
                                                                                "contains",
                                                                                "substring",
                                                                                "class",
                                                                                "category",
                                                                                "exact_match",
                                                                                "classes",
                                                                                "categories",
                                                                                "exists",
                                                                                "traditional",
                                                                                "fuzzy",
                                                                                "regexp",
                                                                                "ids",
                                                                                "date",
                                                                                "numeric",
                                                                                "search",
                                                                                "or",
                                                                                "word_count",
                                                                                "character_count",
                                                                                "dedupe_by_value",
                                                                                "match_array",
                                                                                "random",
                                                                                "and",
                                                                                "size"
                                                                            ]
                                                                        },
                                                                        "condition_value": {},
                                                                        "fuzzy": {
                                                                            "type": "number"
                                                                        },
                                                                        "join": {
                                                                            "type": "boolean"
                                                                        }
                                                                    }
                                                                },
                                                                "description": "General filters for the content_type"
                                                            },
                                                            "oauth_permissions": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "provider": {
                                                                            "type": "string",
                                                                            "enum": [
                                                                                "google",
                                                                                "microsoft",
                                                                                "salesforce",
                                                                                "slack",
                                                                                "zendesk",
                                                                                "hubspot",
                                                                                "linear",
                                                                                "outreach",
                                                                                "zoom",
                                                                                "unipile_linkedin",
                                                                                "unipile_whatsapp",
                                                                                "zoho_crm"
                                                                            ]
                                                                        },
                                                                        "types": {
                                                                            "type": "array",
                                                                            "items": {
                                                                                "type": "string",
                                                                                "enum": [
                                                                                    "email-read-write",
                                                                                    "calendar-read-write",
                                                                                    "microsoft-teams",
                                                                                    "meeting-read-write",
                                                                                    "salesforce-api",
                                                                                    "slack-channel-post",
                                                                                    "slack-channel-post-read",
                                                                                    "zendesk-create-ticket",
                                                                                    "hubspot-connect-app",
                                                                                    "linear-ticket-create",
                                                                                    "unipile-linkedin",
                                                                                    "unipile-whatsapp",
                                                                                    "outreach-api",
                                                                                    "zoom-api-v1",
                                                                                    "zoho-crm"
                                                                                ]
                                                                            }
                                                                        }
                                                                    },
                                                                    "required": [
                                                                        "provider",
                                                                        "types"
                                                                    ],
                                                                    "additionalProperties": false
                                                                },
                                                                "description": "(Optional) OAuth permissions required for a step. Only applicable for content_type `oauth_token`"
                                                            },
                                                            "is_fixed_param": {
                                                                "type": "boolean"
                                                            },
                                                            "is_history_excluded": {
                                                                "type": "boolean"
                                                            },
                                                            "auto_stringify": {
                                                                "type": "boolean"
                                                            },
                                                            "external_name": {
                                                                "type": "string",
                                                                "description": "Field name in external data source (e.g. 'agent_id' in agent conversation metadata)"
                                                            },
                                                            "oauth_account_provider": {
                                                                "type": "string",
                                                                "description": "Filters the OAuth account selector based on the selected provider",
                                                                "enum": [
                                                                    "google",
                                                                    "microsoft",
                                                                    "salesforce",
                                                                    "slack",
                                                                    "zendesk",
                                                                    "hubspot",
                                                                    "linear",
                                                                    "outreach",
                                                                    "zoom",
                                                                    "unipile_linkedin",
                                                                    "unipile_whatsapp",
                                                                    "zoho_crm"
                                                                ]
                                                            },
                                                            "oauth_account_permission_type": {
                                                                "type": "string",
                                                                "description": "Filters the OAuth account selector based on the selected permission type",
                                                                "enum": [
                                                                    "email-read-write",
                                                                    "calendar-read-write",
                                                                    "microsoft-teams",
                                                                    "meeting-read-write",
                                                                    "salesforce-api",
                                                                    "slack-channel-post",
                                                                    "slack-channel-post-read",
                                                                    "zendesk-create-ticket",
                                                                    "hubspot-connect-app",
                                                                    "linear-ticket-create",
                                                                    "unipile-linkedin",
                                                                    "unipile-whatsapp",
                                                                    "outreach-api",
                                                                    "zoom-api-v1",
                                                                    "zoho-crm"
                                                                ]
                                                            },
                                                            "scratchpad": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "type": {
                                                                        "type": "string",
                                                                        "enum": [
                                                                            "dynamic",
                                                                            "static"
                                                                        ]
                                                                    }
                                                                },
                                                                "required": [
                                                                    "type"
                                                                ],
                                                                "additionalProperties": false
                                                            }
                                                        },
                                                        "additionalProperties": false
                                                    },
                                                    "order": {
                                                        "type": "number"
                                                    },
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "type": {
                                                                "type": "string"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "agent": {
                                    "type": "object",
                                    "properties": {
                                        "message_template": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "action_behaviour": {
                                    "type": "string"
                                },
                                "action_retry_config": {
                                    "type": "object",
                                    "properties": {
                                        "max_retries": {
                                            "type": "number"
                                        },
                                        "force_retry": {
                                            "type": "boolean"
                                        },
                                        "after_retries_behaviour": {
                                            "type": "string",
                                            "enum": [
                                                "terminate-conversation",
                                                "ask-for-approval"
                                            ]
                                        }
                                    },
                                    "additionalProperties": false
                                },
                                "title": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "emoji": {
                                    "type": "string"
                                },
                                "agent_decide_prompt": {
                                    "type": "string",
                                    "description": "This prompt guides the agent's decision on whether or not approval is required to execute the tool."
                                },
                                "conditional_approval_rules": {
                                    "type": "object",
                                    "properties": {
                                        "max_auto_approvals": {
                                            "type": "number"
                                        },
                                        "max_approvals_asked": {
                                            "type": "number"
                                        }
                                    },
                                    "additionalProperties": false
                                },
                                "metadata": {
                                    "type": "object",
                                    "description": "Useful for external systems to track which tools have been added programatically."
                                },
                                "project": {
                                    "type": "string",
                                    "description": "Defaults to project agent is being ran from. Tools must be public to use tools in other projects."
                                },
                                "region": {
                                    "type": "string",
                                    "description": "Defaults to region agent is being ran from. Tools must be public to use tools in other regions."
                                },
                                "version": {
                                    "type": "string",
                                    "description": "Version of the tool or subagent to run. Defaults to 'latest'."
                                },
                                "default_values": {
                                    "type": "object",
                                    "description": "Default values the agent will use as inputs when running the tool.",
                                    "properties": {
                                        "_subagent_params": {
                                            "type": "object",
                                            "description": "Params to substitute in the subagent. This is only used for subagents (when agent_id is set). This should be used instead of providing params at the top-level since that is reserved for the params in the message template defined in the parent agent."
                                        }
                                    },
                                    "additionalProperties": true
                                },
                                "auth_values": {
                                    "type": "object",
                                    "description": "Auth account values to update in the chains. Will not be saved to the agent config."
                                },
                                "prompt_description": {
                                    "type": "string"
                                }
                            },
                            "required": [],
                            "additionalProperties": false
                        }
                    },
                    "action_behaviour": {
                        "type": "string",
                        "default": "always-ask"
                    },
                    "action_retry_config": {
                        "type": "object",
                        "properties": {
                            "max_retries": {
                                "type": "number"
                            },
                            "force_retry": {
                                "type": "boolean"
                            },
                            "after_retries_behaviour": {
                                "type": "string",
                                "enum": [
                                    "terminate-conversation",
                                    "ask-for-approval"
                                ]
                            }
                        },
                        "additionalProperties": false
                    },
                    "agent_decide_prompt": {
                        "type": "string",
                        "description": "This prompt guides the agent's decision on whether or not approval is required to execute the tool."
                    },
                    "conditional_approval_rules": {
                        "type": "object",
                        "properties": {
                            "max_auto_approvals": {
                                "type": "number"
                            },
                            "max_approvals_asked": {
                                "type": "number"
                            }
                        },
                        "additionalProperties": false
                    },
                    "public": {
                        "type": "boolean"
                    },
                    "in_marketplace": {
                        "type": "boolean"
                    },
                    "project": {
                        "type": "string"
                    },
                    "update_date_": {
                        "type": "string"
                    },
                    "insert_date_": {},
                    "version": {
                        "type": "string"
                    },
                    "embed_config": {
                        "type": "object"
                    },
                    "embeddable": {
                        "type": "boolean"
                    },
                    "share_styles": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "selected_format": {
                                "type": "string",
                                "enum": [
                                    "shareable-link",
                                    "chat-bubble",
                                    "embed",
                                    "template"
                                ],
                                "default": "shareable-link"
                            },
                            "primary_color": {
                                "type": "string",
                                "default": "#685FFF"
                            },
                            "bubble_style": {
                                "type": "string",
                                "enum": [
                                    "agent",
                                    "icon"
                                ],
                                "default": "agent"
                            },
                            "bubble_icon": {
                                "type": "string",
                                "default": "pd/chat"
                            },
                            "input_placeholder_text": {
                                "type": "string",
                                "default": "Type your message..."
                            },
                            "hide_file_uploads": {
                                "type": "boolean",
                                "default": false
                            },
                            "hide_conversation_list": {
                                "type": "boolean",
                                "default": false
                            },
                            "hide_tool_steps": {
                                "type": "boolean",
                                "default": false
                            },
                            "starting_message_prompts": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                },
                                "default": []
                            },
                            "hide_logo": {
                                "type": "boolean",
                                "default": false
                            }
                        }
                    },
                    "machine_user_id": {
                        "type": "string",
                        "private": true
                    },
                    "starting_messages": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "role": {
                                                    "type": "string",
                                                    "const": "user"
                                                },
                                                "content": {
                                                    "type": "string"
                                                },
                                                "importance_level": {
                                                    "type": "string",
                                                    "enum": [
                                                        "normal",
                                                        "short-term-memory"
                                                    ]
                                                }
                                            },
                                            "required": [
                                                "role",
                                                "content"
                                            ],
                                            "additionalProperties": false
                                        },
                                        {
                                            "properties": {
                                                "role": {
                                                    "type": "string",
                                                    "const": "agent"
                                                },
                                                "content": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "role",
                                                "content"
                                            ],
                                            "additionalProperties": false
                                        }
                                    ]
                                },
                                "metadata": {
                                    "type": "object",
                                    "description": "Any additional metadata to be stored with the message. This is not sent to the agent.",
                                    "properties": {
                                        "sync_item_id": {
                                            "type": "string"
                                        },
                                        "sync_id": {
                                            "type": "string"
                                        },
                                        "sync_type": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "required": [
                                "message"
                            ],
                            "additionalProperties": false
                        }
                    },
                    "triggers": {
                        "type": "array",
                        "description": "Triggers are used to start / continue a conversation with an agent via an external service (e.g. email).",
                        "items": {
                            "type": "object",
                            "properties": {
                                "type": {
                                    "type": "string"
                                },
                                "enabled": {
                                    "type": "boolean"
                                },
                                "config": {
                                    "type": "object"
                                },
                                "studios": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "studio_id": {
                                                "type": "string"
                                            },
                                            "label": {
                                                "type": "string"
                                            }
                                        },
                                        "required": [
                                            "studio_id"
                                        ],
                                        "additionalProperties": false
                                    }
                                }
                            },
                            "required": [
                                "type"
                            ]
                        }
                    },
                    "runner": {
                        "type": "object",
                        "oneOf": [
                            {
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "const": "default"
                                    }
                                },
                                "required": [
                                    "type"
                                ],
                                "additionalProperties": false
                            },
                            {
                                "properties": {
                                    "type": {
                                        "type": "string",
                                        "const": "multiagent"
                                    },
                                    "multiagent": {
                                        "type": "object",
                                        "properties": {
                                            "max_rounds": {
                                                "type": "number",
                                                "default": 5
                                            },
                                            "child_agents": {
                                                "description": "Agents that the Admin agent will run.",
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "agent_id": {
                                                            "type": "string"
                                                        },
                                                        "system_prompt": {
                                                            "type": "string"
                                                        },
                                                        "name": {
                                                            "type": "string"
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "required": []
                                    }
                                },
                                "required": [
                                    "type"
                                ],
                                "additionalProperties": false
                            }
                        ],
                        "required": [
                            "type"
                        ]
                    },
                    "tags": {
                        "type": "object",
                        "additionalProperties": {
                            "oneOf": [
                                {
                                    "type": "boolean"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "description": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "internal_tags": {
                        "type": "object",
                        "private": true,
                        "properties": {
                            "priority": {
                                "type": "boolean"
                            }
                        }
                    },
                    "params_schema": {
                        "type": "object",
                        "description": "A jsonschema superset object that users parameters will be validated against upon execution.",
                        "properties": {
                            "metadata": {
                                "type": "object",
                                "properties": {
                                    "field_order": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "properties": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "object",
                                    "properties": {
                                        "metadata": {
                                            "type": "object",
                                            "properties": {
                                                "content_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "json",
                                                        "json_list",
                                                        "long_text",
                                                        "short_text",
                                                        "file_url",
                                                        "file_urls",
                                                        "llm_prompt",
                                                        "speech",
                                                        "code",
                                                        "dataset_id",
                                                        "knowledge_set",
                                                        "markdown",
                                                        "chain_id",
                                                        "chain_params",
                                                        "file_to_text",
                                                        "file_to_text_llm_friendly",
                                                        "memory_optimizer",
                                                        "memory",
                                                        "table",
                                                        "agent_id",
                                                        "api_key",
                                                        "key_value_input",
                                                        "knowledge_editor",
                                                        "oauth_account",
                                                        "datetime",
                                                        "api_selector",
                                                        "llm_model_selector",
                                                        "colour_picker",
                                                        "conditional",
                                                        "external_field",
                                                        "tool_approval",
                                                        "componentized_json_array"
                                                    ]
                                                },
                                                "allow_one_of_variable_mode": {
                                                    "type": "boolean"
                                                },
                                                "possible_options_from": {
                                                    "type": "object",
                                                    "additionalProperties": false,
                                                    "properties": {
                                                        "type": {
                                                            "type": "string",
                                                            "enum": [
                                                                "object_keys"
                                                            ]
                                                        },
                                                        "source": {
                                                            "type": "object",
                                                            "additionalProperties": false,
                                                            "properties": {
                                                                "variable": {
                                                                    "type": "string"
                                                                }
                                                            }
                                                        }
                                                    }
                                                },
                                                "default_to_variable_selector": {
                                                    "type": "boolean"
                                                },
                                                "api_selector_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "finetuning_model_select",
                                                        "elevenlabs_voice_selector",
                                                        "elevenlabs_model_selector",
                                                        "heygen_voice_selector",
                                                        "heygen_avatar_selector",
                                                        "llm_model_selector",
                                                        "blandai_voice_selector",
                                                        "d_id_voice_selector",
                                                        "d_id_avatar_selector",
                                                        "vapi_custom_phone_number_selector",
                                                        "vapi_custom_assistant_selector",
                                                        "webflow_collections"
                                                    ]
                                                },
                                                "api_selector_placeholder": {
                                                    "type": "string",
                                                    "default": "Select Option..."
                                                },
                                                "variable_search_field": {
                                                    "type": "string"
                                                },
                                                "accepted_file_types": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "hidden": {
                                                    "type": "boolean",
                                                    "default": false
                                                },
                                                "relevance_only": {
                                                    "type": "boolean",
                                                    "default": false
                                                },
                                                "minimum_plan": {
                                                    "type": "string",
                                                    "enum": [
                                                        "free",
                                                        "basic",
                                                        "starter",
                                                        "team",
                                                        "business",
                                                        "enterprise",
                                                        "custom"
                                                    ]
                                                },
                                                "advanced": {
                                                    "type": "boolean",
                                                    "default": false
                                                },
                                                "placeholder": {},
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "icon_url": {
                                                    "type": "string"
                                                },
                                                "require_toggle": {
                                                    "type": "boolean"
                                                },
                                                "dont_substitute": {
                                                    "type": "boolean",
                                                    "default": false
                                                },
                                                "min": {
                                                    "type": "number",
                                                    "hidden": true
                                                },
                                                "max": {
                                                    "type": "number",
                                                    "hidden": true
                                                },
                                                "value_suggestion_chain": {
                                                    "type": "object",
                                                    "properties": {
                                                        "url": {
                                                            "type": "string"
                                                        },
                                                        "project_id": {
                                                            "type": "string"
                                                        },
                                                        "output_key": {
                                                            "type": "string",
                                                            "default": "value"
                                                        }
                                                    },
                                                    "required": [
                                                        "url",
                                                        "project_id"
                                                    ]
                                                },
                                                "enum": {
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "description": {
                                                                "type": "string"
                                                            },
                                                            "label": {
                                                                "type": "string"
                                                            },
                                                            "credits_per_token": {
                                                                "type": "number"
                                                            },
                                                            "value": {
                                                                "type": "string"
                                                            },
                                                            "group_name": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "required": [
                                                            "description",
                                                            "value"
                                                        ],
                                                        "additionalProperties": false
                                                    },
                                                    "type": "array"
                                                },
                                                "bulk_run_input_source": {
                                                    "type": "string",
                                                    "enum": [
                                                        "",
                                                        "$DOCUMENT",
                                                        "$FIELD_PARAM_MAPPING"
                                                    ]
                                                },
                                                "agent_input_source": {
                                                    "type": "string",
                                                    "enum": [
                                                        "conversation_id",
                                                        "agent_id"
                                                    ]
                                                },
                                                "headers": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "rows": {
                                                    "type": "number"
                                                },
                                                "can_add_or_remove_columns": {
                                                    "type": "boolean"
                                                },
                                                "placeholders": {
                                                    "type": "object",
                                                    "patternProperties": {
                                                        ".*": {
                                                            "type": "string"
                                                        }
                                                    }
                                                },
                                                "language": {
                                                    "type": "string",
                                                    "enum": [
                                                        "python",
                                                        "javascript",
                                                        "html"
                                                    ]
                                                },
                                                "key_value_input_opts": {
                                                    "type": "object",
                                                    "description": "Props to pass to the KeyValueInput component.",
                                                    "properties": {
                                                        "header": {
                                                            "type": "object",
                                                            "description": "Set headers to display above the key and/or value columns.",
                                                            "properties": {
                                                                "hide": {
                                                                    "type": "boolean",
                                                                    "description": "Whether to hide all headers."
                                                                },
                                                                "key": {
                                                                    "type": "string",
                                                                    "description": "The header displayed above the key column."
                                                                },
                                                                "value": {
                                                                    "type": "string",
                                                                    "description": "The header displayed above the value column."
                                                                }
                                                            }
                                                        },
                                                        "placeholder": {
                                                            "type": "object",
                                                            "description": "Set placeholder values to display in the key and/or value columns.",
                                                            "properties": {
                                                                "hide": {
                                                                    "type": "boolean",
                                                                    "description": "Whether to hide all placeholders."
                                                                },
                                                                "key": {
                                                                    "type": "string",
                                                                    "description": "The placeholder to display in each cell of the key column."
                                                                },
                                                                "value": {
                                                                    "type": "string",
                                                                    "description": "The placeholder to display in each cell of the value column."
                                                                }
                                                            }
                                                        },
                                                        "addButtonText": {
                                                            "type": "string",
                                                            "description": "The text displayed in the 'Add' button that inserts a new pair."
                                                        }
                                                    }
                                                },
                                                "knowledge_set_field_name": {
                                                    "type": "string",
                                                    "description": "[KnowledgeEditor] The name of the field in the transformation's param schema containing the knowledge set ID."
                                                },
                                                "filters": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "strict": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "must",
                                                                    "should",
                                                                    "must_or"
                                                                ]
                                                            },
                                                            "condition": {
                                                                "type": "string"
                                                            },
                                                            "case_insensitive": {
                                                                "type": "boolean"
                                                            },
                                                            "field": {
                                                                "type": "string"
                                                            },
                                                            "filter_type": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "text_match",
                                                                    "word_match",
                                                                    "term",
                                                                    "terms",
                                                                    "text",
                                                                    "texts",
                                                                    "match",
                                                                    "contains",
                                                                    "substring",
                                                                    "class",
                                                                    "category",
                                                                    "exact_match",
                                                                    "classes",
                                                                    "categories",
                                                                    "exists",
                                                                    "traditional",
                                                                    "fuzzy",
                                                                    "regexp",
                                                                    "ids",
                                                                    "date",
                                                                    "numeric",
                                                                    "search",
                                                                    "or",
                                                                    "word_count",
                                                                    "character_count",
                                                                    "dedupe_by_value",
                                                                    "match_array",
                                                                    "random",
                                                                    "and",
                                                                    "size"
                                                                ]
                                                            },
                                                            "condition_value": {},
                                                            "fuzzy": {
                                                                "type": "number"
                                                            },
                                                            "join": {
                                                                "type": "boolean"
                                                            }
                                                        }
                                                    },
                                                    "description": "General filters for the content_type"
                                                },
                                                "oauth_permissions": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "provider": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "google",
                                                                    "microsoft",
                                                                    "salesforce",
                                                                    "slack",
                                                                    "zendesk",
                                                                    "hubspot",
                                                                    "linear",
                                                                    "outreach",
                                                                    "zoom",
                                                                    "unipile_linkedin",
                                                                    "unipile_whatsapp",
                                                                    "zoho_crm"
                                                                ]
                                                            },
                                                            "types": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "email-read-write",
                                                                        "calendar-read-write",
                                                                        "microsoft-teams",
                                                                        "meeting-read-write",
                                                                        "salesforce-api",
                                                                        "slack-channel-post",
                                                                        "slack-channel-post-read",
                                                                        "zendesk-create-ticket",
                                                                        "hubspot-connect-app",
                                                                        "linear-ticket-create",
                                                                        "unipile-linkedin",
                                                                        "unipile-whatsapp",
                                                                        "outreach-api",
                                                                        "zoom-api-v1",
                                                                        "zoho-crm"
                                                                    ]
                                                                }
                                                            }
                                                        },
                                                        "required": [
                                                            "provider",
                                                            "types"
                                                        ],
                                                        "additionalProperties": false
                                                    },
                                                    "description": "(Optional) OAuth permissions required for a step. Only applicable for content_type `oauth_token`"
                                                },
                                                "is_fixed_param": {
                                                    "type": "boolean"
                                                },
                                                "is_history_excluded": {
                                                    "type": "boolean"
                                                },
                                                "auto_stringify": {
                                                    "type": "boolean"
                                                },
                                                "external_name": {
                                                    "type": "string",
                                                    "description": "Field name in external data source (e.g. 'agent_id' in agent conversation metadata)"
                                                },
                                                "oauth_account_provider": {
                                                    "type": "string",
                                                    "description": "Filters the OAuth account selector based on the selected provider",
                                                    "enum": [
                                                        "google",
                                                        "microsoft",
                                                        "salesforce",
                                                        "slack",
                                                        "zendesk",
                                                        "hubspot",
                                                        "linear",
                                                        "outreach",
                                                        "zoom",
                                                        "unipile_linkedin",
                                                        "unipile_whatsapp",
                                                        "zoho_crm"
                                                    ]
                                                },
                                                "oauth_account_permission_type": {
                                                    "type": "string",
                                                    "description": "Filters the OAuth account selector based on the selected permission type",
                                                    "enum": [
                                                        "email-read-write",
                                                        "calendar-read-write",
                                                        "microsoft-teams",
                                                        "meeting-read-write",
                                                        "salesforce-api",
                                                        "slack-channel-post",
                                                        "slack-channel-post-read",
                                                        "zendesk-create-ticket",
                                                        "hubspot-connect-app",
                                                        "linear-ticket-create",
                                                        "unipile-linkedin",
                                                        "unipile-whatsapp",
                                                        "outreach-api",
                                                        "zoom-api-v1",
                                                        "zoho-crm"
                                                    ]
                                                },
                                                "scratchpad": {
                                                    "type": "object",
                                                    "properties": {
                                                        "type": {
                                                            "type": "string",
                                                            "enum": [
                                                                "dynamic",
                                                                "static"
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "type"
                                                    ],
                                                    "additionalProperties": false
                                                }
                                            },
                                            "additionalProperties": false
                                        },
                                        "order": {
                                            "type": "number"
                                        },
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "params": {
                        "type": "object"
                    },
                    "expiry_date_": {},
                    "escalations": {
                        "type": "object",
                        "properties": {
                            "email": {
                                "type": "object",
                                "properties": {
                                    "emails": {}
                                },
                                "required": [],
                                "additionalProperties": false
                            },
                            "slack": {
                                "type": "object",
                                "properties": {
                                    "channels": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "oauth_account_id": {}
                                            },
                                            "required": [],
                                            "additionalProperties": false
                                        }
                                    }
                                },
                                "required": [],
                                "additionalProperties": false
                            }
                        },
                        "additionalProperties": false
                    },
                    "use_streaming": {
                        "type": "boolean",
                        "description": "If true, the agent's progress will be streamed in real-time-ish to the frontend."
                    },
                    "mas_id": {
                        "type": "string",
                        "description": "Can be used to force a given mas id for every run with this agent."
                    },
                    "model_options": {
                        "type": "object",
                        "properties": {
                            "parallel_tool_calls": {
                                "type": "boolean"
                            },
                            "switch_model_after_n_tokens": {
                                "type": "object",
                                "properties": {
                                    "model": {
                                        "type": "string"
                                    },
                                    "n_tokens": {
                                        "type": "number"
                                    }
                                },
                                "description": "Cost reduction technique due to models performing better with more context",
                                "required": [
                                    "model",
                                    "n_tokens"
                                ]
                            },
                            "strict_mode": {
                                "type": "boolean",
                                "description": "Some model providers support 'strict':true to force function calling to be more accurate. This activates this when supported."
                            }
                        }
                    },
                    "runtime": {
                        "description": "Options for controlling of the agent runtime layer.",
                        "type": "object",
                        "properties": {
                            "code": {
                                "type": "string"
                            },
                            "enabled": {
                                "type": "boolean",
                                "default": false
                            },
                            "webhook": {
                                "type": "string",
                                "description": "If a non empty string, will not use code runtime, and instead fire a webhook, expecting the webhook to manage all further work."
                            }
                        },
                        "required": [],
                        "additionalProperties": false
                    },
                    "categories": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "last_updated_by": {
                        "type": "object",
                        "properties": {
                            "user_name": {
                                "type": "string"
                            },
                            "user_id": {
                                "type": "string"
                            }
                        }
                    },
                    "metadata": {
                        "type": "object",
                        "properties": {
                            "clone_count": {
                                "type": "number"
                            },
                            "custom_task_views": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "title": {
                                            "type": "string"
                                        },
                                        "filters": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "type": {
                                                        "type": "string",
                                                        "enum": [
                                                            "agent",
                                                            "tool",
                                                            "trigger"
                                                        ]
                                                    },
                                                    "id": {
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "type",
                                                    "id"
                                                ],
                                                "additionalProperties": false
                                            }
                                        }
                                    },
                                    "required": [
                                        "id",
                                        "title",
                                        "filters"
                                    ],
                                    "additionalProperties": false
                                }
                            },
                            "last_run_date": {}
                        }
                    }
                },
                "required": [
                    "agent_id",
                    "project",
                    "_id"
                ],
                "additionalProperties": false
            }
        }
    },
    "required": [
        "results"
    ],
    "additionalProperties": false
}